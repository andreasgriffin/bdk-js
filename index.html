<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>BDK Example</title>
  </head>
  <body>
    <h1>BDK Example</h1>
    <script type="module">


        import * as bdk from './dist/js_example.js';
        await bdk.init('undefined');


        // Re-enable this line if you want the mnemonic to be generated
        // let mnemonic = bdk.generate_mnemonic()
        let mnemonic = "vapor winter snake hand reason airport text develop enrich abandon oyster filter";
        console.log(mnemonic)

        let network = new bdk.Network("testnet")
        let desc = bdk.mnemonic_to_bip86_tap_descriptor(mnemonic, null, network)
        let wallet = new bdk.Wallet(desc, network)

        // Printing an address
        console.log(wallet.get_new_address())

        // The balance is zero before syncing
        console.log(wallet.get_total_balance())

        // But it might change after you sync
        wallet.sync().then(() => console.log(wallet.get_total_balance()))

    </script>
    </body>
</html>
